<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>{{project_name}} – Completion Report</title>
  <style>
    :root {
      --tmc-blue: #273A60;
      --tmc-orange: #ec6608;
      --page-bg: #f4f4f4;
      --panel-bg: #ffffff;
    }
    body {
      font-family: 'Montserrat', sans-serif;
      background: var(--page-bg);
      margin: 0;
      padding: 0;
      color: #333;
    }
    header {
      background: var(--tmc-blue);
      color: white;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 4px solid var(--tmc-orange);
    }
    header h1 { margin: 0; font-size: 1.5rem; }
    header img { height: 52px; }
    main {
      max-width: 780px;
      margin: 0 auto;
      padding: 24px;
    }
    .info {
      background: var(--tmc-orange);
      color: #fff;
      border-radius: 6px;
      padding: 20px;
      margin-bottom: 28px;
      font-weight: 500;
    }
    .info p { margin: 4px 0; }
    section {
      background: var(--panel-bg);
      padding: 20px;
      border-radius: 6px;
      margin-bottom: 28px;
      box-shadow: 0 0 8px rgba(0,0,0,0.08);
    }
    section h2 {
      color: var(--tmc-blue);
      margin-top: 0;
      font-size: 1.25rem;
    }
    .photo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 12px;
    }
    .photo-grid img {
      width: 100%;
      border-radius: 4px;
    }
    footer {
      background: var(--tmc-blue);
      color: white;
      text-align: center;
      padding: 12px;
      border-top: 4px solid var(--tmc-orange);
    }
    footer a {
      color: var(--tmc-orange);
      text-decoration: none;
    }
    @page {
      margin: 20mm 15mm 28mm;
      @bottom-center { content: element(page-footer); }
    }
    footer { position: running(page-footer); }
  </style>
</head>

<body>
  <header>
    <h1>V/Line – Completion Report</h1>
    <img src="https://tmc-static-assets.vercel.app/tmc-logo.png" alt="TMC Logo" />
  </header>

  <main>
    <div class="info">
      <p><strong>Project:</strong> {{project_name}}</p>
      <p><strong>Customer:</strong> {{customer}}</p>
      <p><strong>PO / LOE:</strong> {{po_noe}}</p>
      <p><strong>Location:</strong> {{location}} (KP {{kp_start}} – {{kp_end}})</p>
      <p><strong>Status:</strong> {{status}}</p>
      <p><strong>Date Completed:</strong> {{date_completed}}</p>
      {{details_block}}
    </div>

    <section>
      <h2>Summary</h2>
      <p>{{summary_text}}</p>
    </section>

    <section>
      <h2>Key Findings</h2>
      {{findings_block}}
    </section>

    <section>
      <h2>Media</h2>
      <h3>Before</h3>
      <div class="photo-grid">{{embed_codes_before}}</div>

      <h3>During</h3>
      <div class="photo-grid">{{embed_codes_during}}</div>

      <h3>After</h3>
      <div class="photo-grid">{{embed_codes_after}}</div>
    </section>
  </main>

  <footer>
    <p>Generated by <strong>Systems @ TMC enviro</strong></p>
    <p><a href="https://www.tmcenviro.com.au" target="_blank">www.tmcenviro.com.au</a></p>
    <p>Email: <a href="mailto:systems@tmcenviro.com.au">systems@tmcenviro.com.au</a> | Phone: <a href="tel:+61458922033">+61&nbsp;458&nbsp;922&nbsp;033</a></p>
  </footer>
</body>
</html>
